<div class="offer-card" [class.preliminary]="offer().isPreliminary">
  <div class="offer-header">
    <h3 class="provider-name">{{ offer().provider }}</h3>
    @if (offer().isPreliminary) {
    <span class="preliminary-badge">Cached</span>
    }
  </div>

  <div class="offer-details">
    <div class="product-name">{{ offer().productName }}</div>

    <div class="offer-specs">
      <div class="spec">
        <span class="spec-label">Speed:</span>
        <span class="spec-value">{{ offer().speed }} Mbps</span>
      </div>

      <div class="spec">
        <span class="spec-label">Connection:</span>
        <span class="spec-value">{{ offer().connectionType }}</span>
      </div>

      <div class="spec">
        <span class="spec-label">Contract:</span>
        <span class="spec-value"
          >{{ offer().contractDurationInMonths }} months</span
        >
      </div>

      @if (offer().limitInGb) {
      <div class="spec">
        <span class="spec-label">Data Limit:</span>
        <span class="spec-value">{{ offer().limitInGb }} GB</span>
      </div>
      } @if (offer().tv) {
      <div class="spec">
        <span class="spec-label">TV:</span>
        <span class="spec-value">{{ offer().tv }}</span>
      </div>
      }
    </div>

    <div class="pricing">
      <div class="monthly-cost">
        <span class="cost-label">Monthly Cost</span>
        <span class="cost-value"
          >€{{ (offer().monthlyCostInCent / 100).toFixed(2) }}</span
        >
      </div>

      @if (offer().afterTwoYearsMonthlyCost && offer().afterTwoYearsMonthlyCost
      !== offer().monthlyCostInCent) {
      <div class="after-two-years">
        <span class="cost-label">After 2 years</span>
        <span class="cost-value"
          >€{{ (offer().afterTwoYearsMonthlyCost! / 100).toFixed(2) }}</span
        >
      </div>
      } @if (offer().voucherType && offer().voucherValue) {
      <div class="voucher">
        <span class="voucher-label">Voucher:</span>
        @if (offer().voucherType === 'percentage') {
        <span class="voucher-value">{{ offer().voucherValue }}% off</span>
        } @else {
        <span class="voucher-value"
          >€{{ (offer().voucherValue! / 100).toFixed(2) }} off</span
        >
        }
      </div>
      }
    </div>

    <div class="offer-features">
      @if (offer().installationService) {
      <span class="feature-badge">Installation Service</span>
      } @if (offer().maxAgePerson) {
      <span class="feature-badge">Max Age: {{ offer().maxAgePerson }}</span>
      }
    </div>
  </div>
</div>
